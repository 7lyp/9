<!-- by 韦柔 -->
# 内容编码功能

![编码功能截图](images/Encoding%20function.png)

## 1. 视频编码

### 1.1 功能概述
CatraMMS的视频编码功能提供灵活的配置选项，支持多种格式和参数设置。

### 1.2 用户配置
系统通过预设配置文件和API接口管理视频编码。用户可通过界面配置包括以下参数：
- 编解码器（如libx264）
- 配置文件（如high422/main）
- 比特率
- 帧率
- 分辨率

### 1.3 核心实现
关键功能实现在`API/src/API_Encoding.cpp`中，包含以下核心函数：
- `addEncodingProfile()`
- `removeEncodingProfile()`

![视频编码功能截图1](images/Video%20encoding1.png)

### 1.4 预设配置
预定义的视频编码配置以JSON格式存储在`predefinedEncodingProfiles/video/`目录下。

### 1.5 支持格式
系统支持的容器格式包括：
- MP4
- DASH
- TS

并提供针对不同使用场景优化的预设比特率-分辨率组合。

![视频编码功能截图2](images/Video%20encoding2.png)

## 2. 音频编码

### 2.1 模块灵活性
音频编码模块既可独立运行，也可与视频编码协同工作。

### 2.2 核心编解码器
系统采用AAC作为核心音频编解码器，提供92kbps至160kbps的可配置比特率（如视频编码配置中的AAC_160）。

### 2.3 配置存储
预定义的音频编码配置以JSON格式存储在`predefinedEncodingProfiles/audio/`目录下。

### 2.4 高级处理
专业音频处理功能包括：
- 响度标准化
- 噪声抑制
- 智能分段编码（特别适合播客和音乐制作）

### 2.5 多声道支持
多声道音频支持可处理专业格式（如5.1环绕声），满足高标准媒体制作需求。

![音频编码功能截图](images/Audio%20encoding.png)

## 3. 图像编码

### 3.1 核心功能
系统支持主流格式转换和智能压缩功能。

### 3.2 预设模板
提供名为"MMS_JPEG_85Q_1920x1080"的预设模板，指定：
- 质量参数（85Q）
- 分辨率设置

### 3.3 配置存储
预定义的图像编码配置以JSON格式存储在`predefinedEncodingProfiles/image/`目录下。

### 3.4 优化功能
关键优化包括：
- 渐进式加载
- 自适应格式选择（针对网页）
- 自动多分辨率生成（针对移动设备）

### 3.5 专业特性
图像处理引擎支持：
- 元数据保留
- 自动方向校正
- 批量图像文件处理

显著提升内容管理效率。

![图像编码功能截图](images/Image%20encoding.png)

# 通知功能

CatraMMS的通知功能主要通过电子邮件实现用户与系统支持团队之间的沟通。

如操作界面截图所示，系统提供简洁的表单要求用户填写：
- 电子邮箱地址
- 邮件主题
- 消息内容

并支持发送邮件至指定邮箱。

## 实现组件
1. 前端界面收集用户输入的邮件信息
2. 后端处理逻辑负责实际邮件传输
3. 系统使用SMTP协议与邮件服务器通信

![通知功能截图](images/Notification%20function.png)

# 安全功能

## 1. 身份认证  
CatraMMS 项目通过电子邮箱、密码等方式验证用户身份，确保只有授权用户可访问系统。  
在用户注册和确认流程中，严格把控用户身份的合法性。  

如 `confirmRegistration` 函数：该函数用于确认用户的注册信息，只有通过确认的用户才能正式使用系统，进一步保证了系统的安全性。  

![认证功能截图](images/Authentication.png)

## 2. 权限管理  
系统根据用户角色和权限限制对媒体内容的访问和操作。  
不同角色的用户具有不同的权限，确保只有授权用户可以进行特定的操作。  

在 `CatraMMS/API/src/API_UserWorkspace.cpp` 文件中的 `createWorkspace` 函数中，会根据用户的权限判断是否可以创建工作空间。  

## 3. 数据加密  
- 项目对系统中存储的媒体内容进行加密，防止存储期间数据被盗。  
- 在媒体内容传输过程中使用 SSL/TLS 等加密协议，确保传输安全。  

## 4. 日志与审计  
- 项目记录关键系统操作和访问日志，在发生安全事件时支持审计和追踪。  
- 通过详细的日志记录，可以及时发现异常操作并进行处理。  

`SPDLOG_INFO` 和 `SPDLOG_ERROR` 宏：在多个文件中都有使用，例如 `CatraMMS/API/src/API_UserWorkspace.cpp` 文件。这些宏用于记录系统的关键信息和错误信息，方便后续的审计和追踪。  
<!-- by 韦柔 -->